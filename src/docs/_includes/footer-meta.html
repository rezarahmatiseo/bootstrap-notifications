<!--
	Javascripts
	==================================================
-->
<script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
<script src="{{ site.baseurl }}libs/bootstrap.min.js"></script>
<script async src="https://buttons.github.io/buttons.js"></script>

<script>
  $(function () {
    var examples = $('.sw-example');
    var newIframe;

    var handleIframeLoad = function () {
      $(this).height($(this).contents().find('body').outerHeight());
      $(this).width($(this).contents().find('body').width());
    };

    examples.each(function (i, example) {
      var element = $(example);
      var html = element.html();
      var css = '<link rel="stylesheet" href="{{ site.baseurl }}stylesheets/bootstrap-dropmenu.css"><link rel="stylesheet" href="{{ site.baseurl }}stylesheets/bootstrap-notifications.css"><link rel="stylesheet" href="{{ site.baseurl }}libs/bootstrap.min.css">';
      var js = '<script src="{{ site.baseurl }}libs/holder.js"><' + '/script><script src="https://code.jquery.com/jquery-2.1.4.min.js"><' + '/script><script src="{{ site.baseurl }}libs/bootstrap.min.js"><' + '/script>';

      var iframeContent = '<!DOCTYPE html><html><head><title>Rendered HTML from Pattern</title>' + css + '</head><body>' + html + js + '</body></html>';

      newIframe = document.createElement('iframe');
      newIframe.id = 'test' + i;
      newIframe.className = 'sw-example';
      newIframe.width = '100%';
      newIframe.height = '100%';
      newIframe.src = 'about:blank';

      // Use whatever method is needed to insert the iframe where you want it
      example.parentNode.insertBefore(newIframe, example);

      newIframe.addEventListener('load', handleIframeLoad);
      newIframe.contentWindow.document.open('text/html', 'replace');
      newIframe.contentWindow.document.write(iframeContent);
      newIframe.contentWindow.document.close();

      $(example).hide();
    });

    // $('.sw-aside').affix({
    //   offset: {
    //     top: $('.sw-header').outerHeight() - 45 // margin
    //   }
    // })
  })
</script>

<script>
    (function (i, s, o, g, r, a, m) {
      i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
        (i[r].q = i[r].q || []).push(arguments)
      }, i[r].l = 1 * new Date(); a = s.createElement(o),
        m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
    })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

  ga('create', '{{ site.analytics_code }}', 'auto');
  ga('send', 'pageview');

</script>
